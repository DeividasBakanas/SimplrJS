(function(i){Array.prototype.remove=function(a,d){var b=this.slice((d||a)+1||this.length);this.length=a<0?this.length+a:a;return this.push.apply(this,b)};var f={config:{console:!1}};(function(a){function d(b){if(a.isArray(b.message)){console.group(b.group);for(var c=0,g=b.message.length;c<g;c++){var e=a.extend(f.console.mGetMessageTemplate(),b.message[c]);d(e)}}else console.group(b.message),console.log(b.data);console.groupEnd()}a.extend(!0,f,{console:{mGetMessageTemplate:function(){return{group:"", message:"",data:""}},mMessage:function(b){f.config.console&&(b=a.extend(f.console.mGetMessageTemplate(),b),d(b))}}})})(jQuery);(function(a){function d(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function b(c,e){if(typeof c==typeof e){if(typeof c=="object"){if(a.isArray(c)){if(c.length==e.length){for(var h=0,d=c.length;h<d;h++)if(!b(c[h],e[h]))return!1;return!0}}else{for(h in c)if(!b(c[h],e[h]))return!1;var f=d=0;for(h in c)d++;for(h in e)f++; return d==f}return!1}return c==e}return!1}var c=typeof localStorage=="undefined"?!1:!0;a.extend(!0,f,{util:{mEmpty:function(c){var b=typeof c;if(b!="undefined"&&c!=null){if(b=="object"){if(a.isArray(c))return c.length==0;return a.isEmptyObject(c)}return a.trim(c)==""}return!0},mEqual:function(c){if(!f.util.mEmpty(c)&&a.isArray(c)){for(var e=!0,h=0,d=c.length;h<d;h++)b(c[0],c[h])||(e=!1,h=d);return e}return!0},mGetUrlParameter:function(c){var b=window.location.search;if(f.util.mEmpty(b))return null; else{for(var h={},b=b.substring(1).split("&"),l=0,k=b.length;l<k;l++){var m=b[l].split("=");h[m[0]]=a.trim(d(decodeURIComponent(m[1])))}return f.util.mEmpty(c)?h:(c=h[c],typeof c=="undefined"?null:c)}},mHasLocalStorage:function(){return c}}})})(jQuery);(function(a){var d={};a.extend(!0,f,{ui:{mElementInfo:function(b){var b=a.extend({selector:"body"},b),c=a(b.selector).eq(0),b=[c.width(),c.height()],c=c.offset(),c=[c.left,c.top];return{offsets:c,dimensions:b}},mWindowInfo:function(){var b={};b.offsets= typeof window.pageYOffset=="number"?[window.pageXOffset,window.pageYOffset]:document.body&&(document.body.scrollLeft||document.body.scrollTop)?[document.body.scrollLeft,document.body.scrollTop]:document.documentElement&&(document.documentElement.scrollLeft||document.documentElement.scrollTop)?[document.documentElement.scrollLeft,document.documentElement.scrollTop]:[0,0];b.dimensions=[a(window).width(),a(window).height()];return b},widget:{mGenerateWidgetID:function(){var a=Math.floor(Math.random()* 1E7);return f.util.mEmpty(d[a])?(d[a]=!0,a):f.ui.widget.mGenerateWidgetID()}}}})})(jQuery);(function(a){function d(a,b){var e=b,h;for(h in a)e=e.replace(RegExp("\\$\\["+h+"\\]","g"),escape(a[h]));return unescape(e)}var b={codes:{eEmpty:"$[label] is empty.",eMissingValidator:"Missing Validator"},codeResultsTemplate:{success:[],error:[]},defaultCodeMessage:"$[label] is UNDEFINED",ruleResultsTemplate:{valid:!0,successCodes:[],errorCodes:[]},validators:{missingvalidator:function(){return a.extend(!0, {},f.validation.mGetRuleResultsTemplate(),{valid:!1,errorCodes:["eMissingValidator"]})},notempty:function(c){var b=a.extend(!0,{},f.validation.mGetRuleResultsTemplate());if(typeof c!="undefined"&&c!=null)if(typeof c=="string")b.valid=a.trim(c)!="";else if(a.isArray(c))b.valid=c.length!=0;else if(typeof c=="object")b.valid=!a.isEmptyObject(c);b.valid||b.errorCodes.push("eEmpty");return b}},validationResultsTemplate:{data:"",valid:!0,codes:{}}};a.extend(!0,f,{validation:{mAddCodes:function(c){a.extend(b.codes, c)},mAddValidators:function(c){a.extend(b.validators,c)},mGetCodes:function(){return b.codes},mGetCodeMessage:function(a,g){if(b.codes[a]!=void 0)return d({label:g},b.codes[a]);return d({label:a},b.defaultCodeMessage)},mGetRuleResultsTemplate:function(){return a.extend(!0,{},b.ruleResultsTemplate)},mGetValidators:function(){return b.validators},mValidate:function(c){var c=a.extend(!0,{},b.validationResultsTemplate,{data:a.extend(!0,{},c)}),g;for(g in c.data){var e=c.data[g];c.codes[g]=a.extend(!0, {},b.codeResultsTemplate);for(var h=0,d=e.rules.length;h<d;h++){var f=e.rules[h],m=a.extend(!0,{},b.ruleResultsTemplate),m=b.validators[f]?b.validators[f](e.value):b.validators.missingvalidator(e.value),f=g,s=c;s.codes[f].success=s.codes[f].success.concat(m.successCodes);s.codes[f].error=s.codes[f].error.concat(m.errorCodes);if(!m.valid)s.valid=!1}c.codes[g].error.length==0&&c.codes[g].success.length==0&&delete c.codes[g]}return c}}})})(jQuery);f.validation.mAddCodes({eMissingValidator:"Missing Validator", eAlphaNumeric:"$[label] is not alphanumeric.",eAmericanExpress:"$[label] is not a valid AMERICAN EXPRESS number.",eDinersClub:"$[label] is not a valid DINERS CLUB number.",eDiscover:"$[label] is not a valid DISCOVER number.",eEmail:"$[label] is not an email address.",eEqual:"$[label] does not match.",eMastercard:"$[label] is not a valid MASTERCARD number.",eEmpty:"$[label] is empty.",eNumber:"$[label] is not a number.",ePhoneNumber:"$[label] is not a valid Phone Number.",ePostalCode:"$[label] is not a Postal Code.", eVisa:"$[label] is not a valid VISA number."});f.validation.mAddValidators({missingvalidator:function(){return i.extend(!0,{},f.validation.mGetRuleResultsTemplate(),{valid:!1,errorCodes:["eMissingValidator"]})},alphanumeric:function(a){a=i.extend(!0,{},f.validation.mGetRuleResultsTemplate(),{valid:/^\w*$/.test(a)});a.valid||a.errorCodes.push("eAlphaNumeric");return a},americanexpress:function(a){a=i.extend(!0,{},f.validation.mGetRuleResultsTemplate(),{valid:/^3(4|7)\d{2}-?\d{6}-?\d{5}$/.test(a)}); a.valid||a.errorCodes.push("eAmericanExpress");return a},dinersclub:function(a){a=i.extend(!0,{},f.validation.mGetRuleResultsTemplate(),{valid:/^3[0,6,8]\d{12}$/.test(a)});a.valid||a.errorCodes.push("eDinersClub");return a},discover:function(a){a=i.extend(!0,{},f.validation.mGetRuleResultsTemplate(),{valid:/^6011-?\d{4}-?\d{4}-?\d{4}$/.test(a)});a.valid||a.errorCodes.push("eDiscover");return a},email:function(a){a=i.extend(!0,{},f.validation.mGetRuleResultsTemplate(),{valid:/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/.test(a)}); a.valid||a.errorCodes.push("eEmail");return a},equal:function(a){var d=i.extend(!0,{},f.validation.mGetRuleResultsTemplate());if(i.isArray(a))for(var b=0,c=a.length;b<c;b++)if(!f.util.mEqual([a[0],a[b]]))d.valid=!1,b=c;d.valid||d.errorCodes.push("eEqual");return d},mastercard:function(a){a=i.extend(!0,{},f.validation.mGetRuleResultsTemplate(),{valid:/^5[1-5]\d{2}-?\d{4}-?\d{4}-?\d{4}$/.test(a)});a.valid||a.errorCodes.push("eMastercard");return a},notempty:function(a){var d=i.extend(!0,{},f.validation.mGetRuleResultsTemplate()); if(typeof a!="undefined"&&a!=null)if(typeof a=="string")d.valid=i.trim(a)!="";else if(i.isArray(a))d.valid=a.length!=0;else if(typeof a=="object")d.valid=!i.isEmptyObject(a);d.valid||d.errorCodes.push("eEmpty");return d},number:function(a){a=i.extend(!0,{},f.validation.mGetRuleResultsTemplate(),{valid:!isNaN(parseFloat(a))&&isFinite(a)});a.valid||a.errorCodes.push("eNumber");return a},phonenumber:function(a){a=i.extend(!0,{},f.validation.mGetRuleResultsTemplate(),{valid:/^\d{10}$/.test(a)});a.valid|| a.errorCodes.push("ePhoneNumber");return a},postalcode:function(a){a=i.extend(!0,{},f.validation.mGetRuleResultsTemplate(),{valid:/^\d{5}([\-]?\d{4})?$/.test(a)});a.valid||a.errorCodes.push("ePostalCode");return a},visa:function(a){a=i.extend(!0,{},f.validation.mGetRuleResultsTemplate(),{valid:/^4\d{3}-?\d{4}-?\d{4}-?\d{4}$/.test(a)});a.valid||a.errorCodes.push("eVisa");return a}});var j=window.simplr={config:{mToggleConsole:function(a){i("#_simplr_core_console").remove();f.config.console=!1;if(a)try{if(typeof window.console!= "undefined"&&typeof window.console.group!="undefined")i(function(){i("body").append('<p id="_simplr_core_console" style="margin: 0; text-align: center; position: fixed; top: 0; width: 100%; left: 0; border-bottom: 1px solid #000; color: #fff; font-weight: bold; background-color: #f00; padding: 5px; font-size: 11px; opacity: .75;">[console]: Console Messaging Active</p>');i("#_simplr_core_console").mouseover(function(){i(this).slideUp()}).mouseout(function(){i(this).delay(3E3).slideDown()})}),f.config.console= !0}catch(d){}return f.config.console}}};(function(a){var d={userAgent:""};a.extend(j,{browser:{mAddressBarHeight:function(){var a=b.mDevice();return a=="iPhone"||a=="iPod"||a=="iPad"?60:0},mDevice:function(){if(d.userAgent.match(/iPhone/i))return"iPhone";else if(d.userAgent.match(/iPod/i))return"iPod";else if(d.userAgent.match(/iPad/i))return"iPad";else if(d.userAgent.match(/Android/i))return"Android";return"other"},mLocalStorageCapable:function(){return f.util.mHasLocalStorage()},mSetUserAgent:function(a){d.userAgent= a},mTouchCapable:function(){var a=b.mDevice();return a=="iPhone"||a=="iPod"||a=="iPad"||a=="Android"}}});var b=j.browser;b.mSetUserAgent(navigator.userAgent)})(jQuery);(function(a){a.extend(j,{cache:{mExpire:function(a){f.util.mHasLocalStorage()&&(localStorage.removeItem(a),localStorage.removeItem(a+"_data"));return null},mGet:function(b){b=a.extend({key:"",identifier:""},b);if(f.util.mHasLocalStorage()&&b.key!=""){var c=localStorage.getItem(b.key);if(c!=null&&(c=c.split("|"),c.length==2&&c[0]==b.identifier))if((new Date).getTime()<= parseInt(c[1],10))return localStorage.getItem(b.key+"_data");else d.mExpire(b.key)}return null},mSet:function(b){b=a.extend({key:"",identifier:"",data:"",freshness:6E5},b);f.util.mHasLocalStorage()&&b.key!=""&&(localStorage.setItem(b.key,b.identifier+"|"+((new Date).getTime()+b.freshness)),localStorage.setItem(b.key+"_data",b.data));return b.data}}});var d=j.cache})(jQuery);(function(a){a.extend(j,{cookie:{mGet:function(b){b=a.extend({name:""},b);if(document.cookie.length>0&&!f.util.mEmpty(b.name)&& (b=document.cookie.match("(^|;) ?"+b.name+"=([^;]*)(;|$)")))return decodeURIComponent(b[2]);return null},mSet:function(b){b=a.extend({name:"",value:"",expireDays:null,path:"/",domain:null,secure:!1},b);if(!f.util.mEmpty(b.name)){var c=b.name+"="+encodeURIComponent(b.value);if(!f.util.mEmpty(b.expireDays)){var g=new Date;g.setTime(g.getTime()+b.expireDays*864E5);c+="; expires="+g.toUTCString()}c+=!f.util.mEmpty(b.path)?"; path="+b.path:"";c+=!f.util.mEmpty(b.domain)?"; domain="+b.domain:"";c+=b.secure? "; secure":"";document.cookie=c;return!0}return!1},mExpire:function(b){return d.mSet(a.extend({name:"",expireDays:-1},b))}}});var d=j.cookie})(jQuery);(function(a,d,b){function c(a){a=a||location.href;return"#"+a.replace(/^[^#]*#?(.*)$/,"$1")}var g="hashchange",e=document,h,f=a.event.special,k=e.documentMode,m="on"+g in d&&(k===b||k>7);a.fn[g]=function(a){return a?this.bind(g,a):this.trigger(g)};a.fn[g].delay=50;f[g]=a.extend(f[g],{setup:function(){if(m)return!1;a(h.start)},teardown:function(){if(m)return!1; a(h.stop)}});h=function(){function h(){var b=c(),e=p(k);if(b!==k)j(k=b,e),a(d).trigger(g);else if(e!==k)location.href=location.href.replace(/#.*/,"")+e;l=setTimeout(h,a.fn[g].delay)}var f={},l,k=c(),i=function(a){return a},j=i,p=i;f.start=function(){l||h()};f.stop=function(){l&&clearTimeout(l);l=b};a.browser.msie&&!m&&function(){var b,d;f.start=function(){if(!b)d=(d=a.fn[g].src)&&d+c(),b=a('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){d||j(c());h()}).attr("src",d||"javascript:0").insertAfter("body")[0].contentWindow, e.onpropertychange=function(){try{if(event.propertyName==="title")b.document.title=e.title}catch(a){}}};f.stop=i;p=function(){return c(b.location.href)};j=function(c,h){var d=b.document,f=a.fn[g].domain;if(c!==h)d.title=e.title,d.open(),f&&d.write('<script>document.domain="'+f+'"<\/script>'),d.close(),b.location.hash=c}}();return f}()})(jQuery,this);(function(a){var d={crud:{view:!0,"new":!0,update:!0,"delete":!0},commands:{},bases:{}};a.extend(j,{controller:{mAddBases:function(b){for(var b=a.isArray(b)? b:[b],g=0,e=b.length;g<e;g++)d.bases[b[g]]=1},mAddCommands:function(b){for(var g in b){var e=a.extend({route:[],callback:function(){}},b[g]),h=e.route.join("_");if(h!="")d.commands[h]=e.callback}},mExecute:function(a){var b=a.route.join("_");try{d.commands[b](a)}catch(e){}},mGetCommands:function(){return d.commands},mGetBases:function(){return d.bases},mRoute:function(b){b={route:[],url:b,base:"",resources:{},action:"",parameters:{}};if(b.url[0]=="#")b.url=b.url.substring(1);if(b.url[0]=="!")b.url= b.url.substring(1);var g=b.url.split("?"),e=g[0],h;for(h in d.bases)if((g[0]=g[0].replace(h,""))!=e){b.base=h;b.route.push(h);break}g[0]=g[0].split("/");b.action=g[0][g[0].length-1];b.action=d.crud[b.action]?b.action:"view";h=!0;for(var e="",f=0,k=g[0].length-1;f<k;f++)g[0][f]!=""&&(h?(e=g[0][f],b.route.push(e),b.resources[e]=""):b.resources[e]=g[0][f],h=!h);if(g[1]){g=g[1].split("&");h=0;for(e=g.length;h<e;h++)f=g[h].split("="),b.parameters[f[0]]=a.trim(f[1].replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g, "&gt;").replace(/"/g,"&quot;"))}b.route.push(b.action);return b},mRouteAndExecute:function(a){b.mExecute(b.mRoute(decodeURI(a)))}}});var b=j.controller;a(function(){a(window).hashchange(function(){window.location.hash!=""&&b.mRouteAndExecute(window.location.hash)})})})(jQuery);var o;o||(o={});(function(){function a(a){return a<10?"0"+a:a}function d(a){g.lastIndex=0;return g.test(a)?'"'+a.replace(g,function(a){var b=f[a];return typeof b==="string"?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+ '"':'"'+a+'"'}function b(a,c){var g,f,l,i,j=e,p,n=c[a];n&&typeof n==="object"&&typeof n.toJSON==="function"&&(n=n.toJSON(a));typeof k==="function"&&(n=k.call(c,a,n));switch(typeof n){case "string":return d(n);case "number":return isFinite(n)?String(n):"null";case "boolean":case "null":return String(n);case "object":if(!n)return"null";e+=h;p=[];if(Object.prototype.toString.apply(n)==="[object Array]"){i=n.length;for(g=0;g<i;g+=1)p[g]=b(g,n)||"null";l=p.length===0?"[]":e?"[\n"+e+p.join(",\n"+e)+"\n"+ j+"]":"["+p.join(",")+"]";e=j;return l}if(k&&typeof k==="object"){i=k.length;for(g=0;g<i;g+=1)typeof k[g]==="string"&&(f=k[g],(l=b(f,n))&&p.push(d(f)+(e?": ":":")+l))}else for(f in n)Object.prototype.hasOwnProperty.call(n,f)&&(l=b(f,n))&&p.push(d(f)+(e?": ":":")+l);l=p.length===0?"{}":e?"{\n"+e+p.join(",\n"+e)+"\n"+j+"}":"{"+p.join(",")+"}";e=j;return l}}if(typeof Date.prototype.toJSON!=="function")Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+a(this.getUTCMonth()+ 1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()};var c=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,g=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,e,h,f={"\u0008":"\\b","\t":"\\t","\n":"\\n", "\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},k;if(typeof o.stringify!=="function")o.stringify=function(a,c,g){var d;h=e="";if(typeof g==="number")for(d=0;d<g;d+=1)h+=" ";else typeof g==="string"&&(h=g);if((k=c)&&typeof c!=="function"&&(typeof c!=="object"||typeof c.length!=="number"))throw Error("JSON.stringify");return b("",{"":a})};if(typeof o.parse!=="function")o.parse=function(a,b){function g(a,c){var e,h,d=a[c];if(d&&typeof d==="object")for(e in d)Object.prototype.hasOwnProperty.call(d,e)&& (h=g(d,e),h!==void 0?d[e]=h:delete d[e]);return b.call(a,c,d)}var e,a=String(a);c.lastIndex=0;c.test(a)&&(a=a.replace(c,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return e=eval("("+a+")"),typeof b==="function"?g({"":e},""):e;throw new SyntaxError("JSON.parse");}})();(function(a){a.extend(j, {conversion:{mObjectToJSONString:function(a,b,c){return o.stringify(a,b,c)},mJSONStringToObject:function(a,b){return o.parse(a,b)}}})})(jQuery);(function(a){var d={classes:{formEntry:"formEntry",formError:"formError",fieldError:"errorField",textError:"errorText",textInformation:"informationText"},defaultRules:["notempty"],defaultLabel:"_LABEL_",rules:{},labels:{}};a.extend(!0,j,{form:{mAddValidators:function(a){f.validation.mAddValidators(a)},mGetValidators:function(){return f.validation.mGetValidators()}, mAddCodes:function(a){f.validation.mAddCodes(a)},mGetCodes:function(){return f.validation.mGetCodes()},mAddLabelAssociation:function(b){a.extend(d.labels,b)},mAddValidationAssociation:function(b){a.extend(d.rules,b)},mGetValues:function(b){var c={};a("input[type='checkbox']",b).each(function(){c[a(this).attr("name")]=a(this).is(":checked")?a(this).val()!="on"?a(this).val():!0:!1});a("input[type='text'], input[type='password'], input[type='hidden'], input[type='radio']:checked, select, textarea",b).each(function(){c[a(this).attr("name")]= a(this).val()});return c},mValidateValuesAndRender:function(b,c){var g={},e;for(e in c){for(var h={value:c[e],label:d.labels[e]?d.labels[e]:d.defaultLabel,rules:[]},l=0,k=d.defaultRules.length;l<k;l++)h.rules.push(d.defaultRules[l]);try{d.rules[e](h.rules)}catch(i){}g[e]=h}g=f.validation.mValidate(g);e=d.classes;a("."+e.formError+",."+e.fieldError,b).filter("._simplr").removeClass(e.formError).removeClass(e.fieldError);a("."+e.textInformation+",."+e.textError,b).filter("._simplr").remove();for(var j in g.codes){l= g.codes[j];h="";for(l=[l.error,l.success];;){l=l[0];for(k=l.length;0<k;){h+='<p class="'+e.textError+' _simplr">'+f.validation.mGetCodeMessage(l[0],g.data[j].label)+"</p>";break}break}a("[name='"+j+"']:first",b).addClass(e.fieldError+" _simplr").closest("."+e.formEntry).addClass(e.formError+" _simplr").append(h)}return g.valid}}})})(jQuery);var r=function(a,d){typeof a=="string"&&(a=document.getElementById(a));if(a.nodeType!=1)return!1;var b=a.childNodes,c="";if(!d)for(var g=0;g<b.length;g++)if(b[g].nodeType== 3){var e=b[g].nodeValue,e=e.replace(/</g,"&lt;"),e=e.replace(/>/g,"&gt;");c+=e}else if(b[g].nodeType==8)c+="<\!--"+b[g].nodeValue+"--\>";else{c+="<"+b[g].nodeName.toLowerCase();for(var e=b[g].attributes,h=0;h<e.length;h++){var f=e[h].nodeName.toLowerCase(),k=e[h].nodeValue;f=="style"&&b[g].style.cssText?c+=' style="'+b[g].style.cssText.toLowerCase()+'"':k&&f!="contenteditable"&&(c+=" "+f+'="'+k+'"')}c+=">"+r(b[g]);c+="</"+b[g].nodeName.toLowerCase()+">"}return c};(function(a){function d(b){for(;a(".layout-component", b).size()>0;)d(a(".layout-component:eq(0)",b));var e={};e[b.attr("id").split("-")[1]]=r(b.get(0));c.mAddComponents(e);b.remove()}var b={components:{},globalTokens:{}};a.extend(j,{layout:{mAddComponents:function(c){for(var e in c)b.components[e]=a.trim(c[e].replace(/\n/g,"").replace(/\s{1,}/g," "))},mAssembleLayout:function(b){var e="";if(b&&b.component&&b.tokens)for(var h=a.isArray(b.tokens)?b.tokens:[b.tokens],d=0,f=h.length;d<f;d++){var i={},j;for(j in h[d]){var o=i,r=j,q;q=h[d][j];q=typeof q== "object"?c.mAssembleLayout(q):q;o[r]=q}e+=c.mReplaceTokens(i,c.mGetComponent(b.component))}return e},mGetComponent:function(c){typeof b.components[c]=="undefined"&&(a("#layout-"+c).size()>0?d(a("#layout-"+c)):b.components[c]=null);return b.components[c]},mGetComponents:function(){return b.components},mAddGlobalTokens:function(c){a.extend(b.globalTokens,c)},mReplaceTokens:function(c,e){if(e!=null){a.extend(c,b.globalTokens);for(var d in c)e=e.replace(RegExp("\\$\\["+d+"\\]","g"),escape(c[d]))}return unescape(e)}}}); var c=j.layout})(jQuery);(function(a){function d(c){var d={services:[],data:{envID:b.env}};a.extend(!0,d,c.options);if(f.util.mEmpty(d.services)){var e=[],h;for(h in b.services)e.push(h);d.services=e}e=a.extend(f.console.mGetMessageTemplate(),{group:"simplr.trigger: "+b.env+" environment",message:[]});h=0;for(var l=d.services.length;h<l;h++){var k=d.services[h];a.isFunction(b.services[k][c.type])&&b.services[k].data.environmentIDs[b.env]&&e.message.push({message:"["+k+"] "+c.type+" triggered.",data:b.services[k][c.type](d.data)})}e.message.length> 0&&f.console.mMessage(e)}var b={env:"_simplr",services:{}};a.extend(j,{trigger:{mAddServices:function(c){for(var g in c)b.services[g]=a.extend({data:{environmentIDs:{}},onLoad:function(){},onPage:function(){},onEvent:function(){},onTransaction:function(){}},c[g]),d({type:"onLoad",options:{services:[g]}})},mGetServices:function(){return b.services},mSetEnvironment:function(a){b.env=a},mOnPage:function(b){d({type:"onPage",options:a.extend({},b)})},mOnEvent:function(b){d({type:"onEvent",options:a.extend({}, b)})},mOnTransaction:function(b){d({type:"onTransaction",options:a.extend({},b)})}}})})(jQuery);(function(a){function d(e){var d=a("#"+e.id);d.size()==0?a("body").append('<div id="'+e.id+'" style="position: absolute;"></div>'):(d.removeClass(b).removeClass(c),a(e.closeSelector).unbind("click.simplr.layer.destroy."+e.id));var d=a("#"+e.id),f=!(e.xPos!=null&&e.yPos!=null);f?(e.keepCentered&&d.addClass(c),g.mCenter(e.id)):d.css("left",e.xPos+"px").css("top",e.yPos+"px");d.html(e.defaultContent);f&&g.mCenter(e.id); a(e.closeSelector).bind("click.simplr.layer.destroy."+e.id,function(a){a.preventDefault();g.mDestroy({id:e.id,closeSelector:e.closeSelector})})}var b="_simplr_centerLayer",c="_simplr_keepCenterLayer";a.extend(!0,j,{ui:{layer:{mCenter:function(e){if(!f.util.mEmpty(e)){var e=a("#"+e),d=e.width(),g=e.height(),k=f.ui.mWindowInfo(),i=0,i=(k.dimensions[0]-d)/2,i=i<0?20:i;i+=k.offsets[0];var j=0,j=(k.dimensions[1]-g)/2,j=j<0?20:j;j+=k.offsets[1];(d>k.dimensions[0]||g>k.dimensions[1])&&e.hasClass(c)&&e.removeClass(c).addClass(b); e.css("top",j+"px").css("left",i+"px")}},mCreate:function(b){var c=a.extend({ajax:null,callback:null,closeSelector:"#_simplr_layerClose",defaultContent:"",id:"_simplr_layer",isOverlay:!1,keepCentered:!1,xPos:null,yPos:null},b);if(c.isOverlay)c.id=c.id=="_simplr_layer"?"_simplr_overlay":c.id,c.closeSelector=c.closeSelector=="#_simplr_layerClose"?"#_simplr_overlayClose":c.closeSelector,c.xPos=0,c.yPos=0;d(c);if(c.ajax!=null){var g=c.ajax.success;c.ajax.success=function(b,e){c.defaultContent=b;d(c); a.isFunction(g)&&g(b,e)};a.ajax(c.ajax)}else a.isFunction(c.callback)&&c.callback();c.isOverlay&&a("#"+c.id).css({position:"fixed",width:"100%",height:"100%"})},mDestroy:function(b){b=a.extend({id:"_simplr_layer",closeSelector:"#_simplr_layerClose"},b);f.util.mEmpty(b.id)||(a("#"+b.id).remove(),a(b.closeSelector).unbind("click.simplr.ui.layer.destroy."+b.id))}}}});var g=j.ui.layer;a(function(){a(window).bind("resize.simplr.ui.layer",function(){a("."+c+",."+b).each(function(d,f){a(f).addClass(c).removeClass(b); g.mCenter(a(f).attr("id"))})}).bind("scroll.simplr.ui.layer",function(){a("."+c).each(function(b,c){g.mCenter(a(c).attr("id"))})})})})(jQuery);i.extend(!0,j,{ui:{newBrowserWindow:function(a){a=i.extend({url:"",width:500,height:500,name:"_simplr_newBrowserWindow"},a);if(!f.util.mEmpty(a.url)){var d="width="+a.width+",height="+a.height,b=a.url,c=a.name;delete a.url;delete a.width;delete a.height;delete a.name;for(var g in a)d+=","+g+"="+a[g];g=window.open(b,c,d);g!=null&&g.focus()}}}});(function(a){function d(b){this.data= a.extend({animateSpeed:200,containerSelector:"#_simplr_widget_trackableScrollingElement_container",elementSelector:"#_simplr_widget_trackableScrollingElement_element",offset:10,refreshSpeed:500,tolerance:10},b);this.data._PRIVATE={evtString:"scroll.simplr.widget.trackableScrollingElement."+f.ui.widget.mGenerateWidgetID(),timeout:null,previousOffset:0};this.destroy();var c=this;a(window).bind(c.data._PRIVATE.evtString,function(){clearTimeout(c.data._PRIVATE.timeout);c.data._PRIVATE.timeout=setTimeout(function(){var b= a(c.data.containerSelector).eq(0),d=b.children(c.data.elementSelector).eq(0);if(b.is(":visible")&&d.is(":visible")){var b=f.ui.mElementInfo({selector:b}),h=f.ui.mElementInfo({selector:d}),i=f.ui.mWindowInfo(),j=i.offsets[1]-c.data._PRIVATE.previousOffset<0;c.data._PRIVATE.previousOffset=i.offsets[1];var m=null,o=[h.offsets[1]-c.data.tolerance,h.offsets[1]+c.data.tolerance],r=[h.offsets[1]+h.dimensions[1]-c.data.tolerance,h.offsets[1]+h.dimensions[1]+c.data.tolerance];i.dimensions[1]>h.dimensions[1]&& (i.offsets[1]<o[0]||i.offsets[1]>o[1])?m=i.offsets[1]-b.offsets[1]+c.data.offset:j&&i.offsets[1]<o[0]?m=i.offsets[1]-b.offsets[1]+c.data.offset:i.offsets[1]+h.dimensions[1]>r[1]&&(m=i.offsets[1]-b.offsets[1]-(h.dimensions[1]-i.dimensions[1])-c.data.offset);m!=null&&(m<0?m=0:m>b.dimensions[1]-h.dimensions[1]&&(m=b.dimensions[1]-h.dimensions[1]),d.stop().animate({marginTop:m},c.data.animateSpeed))}else d.css("margin-top",0)},c.data.refreshSpeed)})}a.extend(!0,j,{ui:{widget:{oTrackableScrollingElement:function(a){return new d(a)}}}}); d.prototype.reset=function(){a(this.data.elementSelector).eq(0).css("margin-top",0)};d.prototype.destroy=function(){this.reset();a(window).unbind(this.data._PRIVATE.evtString)}})(jQuery);i.extend(!0,j,{util:{mEmpty:function(a){return f.util.mEmpty(a)},mEqual:function(a){return f.util.mEqual(a)},mGetUrlParameter:function(a){return f.util.mGetUrlParameter(a)},mHasLocalStorage:function(){return f.util.mHasLocalStorage()},mTruncateString:function(a){a=i.extend({string:"",size:5,postfix:"",smart:!0},a); if(a.string.length>a.size){var d=a.size-a.postfix.length-1,b=d+1;if(a.smart)for(;a.string.charAt(d)!=" "&&d>0;)d--;return a.string.substring(0,d==0?b:d+1)+a.postfix}return a.string}}});(function(a){a.extend(!0,j,{validation:{mAddCodes:function(a){f.validation.mAddCodes(a)},mGetCodes:function(){return f.validation.mGetCodes()},mAddValidators:function(a){f.validation.mAddValidators(a)},mGetValidators:function(){return f.validation.mGetValidators()},mGetRuleResultsTemplate:function(){return f.validation.mGetRuleResultsTemplate()}, mGetCodeMessage:function(a,b){return f.validation.mGetCodeMessage(a,b)},mValidate:function(a){return f.validation.mValidate(a)}}})})(jQuery);(function(a){var d={};a.extend(!0,j,{view:{mAddViews:function(b){for(var c in b){var f=a.extend(!0,{},{html:function(){return""},callback:function(){}},b[c]);d[c]=f}},mGetViews:function(){return d},mRender:function(b){b=a.extend({name:"",data:"",selector:""},b);a(b.selector).html(d[b.name].html(b.data));d[b.name].callback(b.selector,b.data)}}})})(jQuery)})(jQuery);