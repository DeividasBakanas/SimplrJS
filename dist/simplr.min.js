(function(i){Array.prototype.remove=function(a,f){var b=this.slice((f||a)+1||this.length);this.length=a<0?this.length+a:a;return this.push.apply(this,b)};var e={config:{console:!1}};(function(a){function f(b){if(a.isArray(b.message)){console.group(b.group);for(var c=0,d=b.message.length;c<d;c++){var g=a.extend(e.console.mGetMessageTemplate(),b.message[c]);f(g)}}else console.group(b.message),console.log(b.data);console.groupEnd()}a.extend(!0,e,{console:{mGetMessageTemplate:function(){return{group:"", message:"",data:""}},mMessage:function(b){e.config.console&&(b=a.extend(e.console.mGetMessageTemplate(),b),f(b))}}})})(jQuery);(function(a){function f(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function b(d,g){if(typeof d==typeof g){if(typeof d=="object"){if(a.isArray(d)){if(d.length==g.length){for(var c=0,f=d.length;c<f;c++)if(!b(d[c],g[c]))return!1;return!0}}else{for(c in d)if(!b(d[c],g[c]))return!1;var e=f=0;for(c in d)f++;for(c in g)e++; return f==e}return!1}return d==g}return!1}var c=typeof localStorage=="undefined"?!1:!0;a.extend(!0,e,{util:{mEmpty:function(d){var b=typeof d;if(b!="undefined"&&d!=null){if(b=="object"){if(a.isArray(d))return d.length==0;return a.isEmptyObject(d)}return a.trim(d)==""}return!0},mEqual:function(d){if(!e.util.mEmpty(d)&&a.isArray(d)){for(var c=!0,h=0,f=d.length;h<f;h++)b(d[0],d[h])||(c=!1,h=f);return c}return!0},mGetUrlParameter:function(d){var b=window.location.search;if(e.util.mEmpty(b))return null; else{for(var c={},b=b.substring(1).split("&"),j=0,k=b.length;j<k;j++){var n=b[j].split("=");c[n[0]]=a.trim(f(decodeURIComponent(n[1])))}return e.util.mEmpty(d)?c:(d=c[d],typeof d=="undefined"?null:d)}},mHasLocalStorage:function(){return c}}})})(jQuery);(function(a){var f={};a.extend(!0,e,{ui:{mElementInfo:function(b){var b=a.extend({selector:"body"},b),c=a(b.selector).eq(0),b=[c.width(),c.height()],c=c.offset(),c=[c.left,c.top];return{offsets:c,dimensions:b}},mWindowInfo:function(){var b={};b.offsets= typeof window.pageYOffset=="number"?[window.pageXOffset,window.pageYOffset]:document.body&&(document.body.scrollLeft||document.body.scrollTop)?[document.body.scrollLeft,document.body.scrollTop]:document.documentElement&&(document.documentElement.scrollLeft||document.documentElement.scrollTop)?[document.documentElement.scrollLeft,document.documentElement.scrollTop]:[0,0];b.dimensions=[a(window).width(),a(window).height()];return b},widget:{mGenerateWidgetID:function(){var a=Math.floor(Math.random()* 1E7);return e.util.mEmpty(f[a])?(f[a]=!0,a):e.ui.widget.mGenerateWidgetID()}}}})})(jQuery);(function(a){function f(a,d){var b=d,h;for(h in a)b=b.replace(RegExp("\\$\\["+h+"\\]","g"),escape(a[h]));return unescape(b)}var b={codes:{eEmpty:"$[label] is empty.",eMissingValidator:"Missing Validator"},codeResultsTemplate:{success:[],error:[]},defaultCodeMessage:"$[label] is UNDEFINED",ruleResultsTemplate:{valid:!0,successCodes:[],errorCodes:[]},validators:{missingvalidator:function(){return a.extend(!0, {},e.validation.mGetRuleResultsTemplate(),{valid:!1,errorCodes:["eMissingValidator"]})},notempty:function(b){var d=a.extend(!0,{},e.validation.mGetRuleResultsTemplate());if(typeof b!="undefined"&&b!=null)if(typeof b=="string")d.valid=a.trim(b)!="";else if(a.isArray(b))d.valid=b.length!=0;else if(typeof b=="object")d.valid=!a.isEmptyObject(b);d.valid||d.errorCodes.push("eEmpty");return d}},validationResultsTemplate:{data:"",valid:!0,codes:{}}};a.extend(!0,e,{validation:{mAddCodes:function(c){a.extend(b.codes, c)},mAddValidators:function(c){a.extend(b.validators,c)},mGetCodes:function(){return b.codes},mGetCodeMessage:function(a,d){if(b.codes[a]!=void 0)return f({label:d},b.codes[a]);return f({label:a},b.defaultCodeMessage)},mGetRuleResultsTemplate:function(){return a.extend(!0,{},b.ruleResultsTemplate)},mGetValidators:function(){return b.validators},mValidate:function(c){var c=a.extend(!0,{},b.validationResultsTemplate,{data:a.extend(!0,{},c)}),d;for(d in c.data){var g=c.data[d];c.codes[d]=a.extend(!0, {},b.codeResultsTemplate);for(var h=0,f=g.rules.length;h<f;h++){var e=g.rules[h],n=a.extend(!0,{},b.ruleResultsTemplate),n=b.validators[e]?b.validators[e](g.value):b.validators.missingvalidator(g.value),e=d,r=c;r.codes[e].success=r.codes[e].success.concat(n.successCodes);r.codes[e].error=r.codes[e].error.concat(n.errorCodes);if(!n.valid)r.valid=!1}c.codes[d].error.length==0&&c.codes[d].success.length==0&&delete c.codes[d]}return c}}})})(jQuery);e.validation.mAddCodes({eMissingValidator:"Missing Validator", eAlphaNumeric:"$[label] is not alphanumeric.",eAmericanExpress:"$[label] is not a valid AMERICAN EXPRESS number.",eDinersClub:"$[label] is not a valid DINERS CLUB number.",eDiscover:"$[label] is not a valid DISCOVER number.",eEmail:"$[label] is not an email address.",eEqual:"$[label] does not match.",eMastercard:"$[label] is not a valid MASTERCARD number.",eEmpty:"$[label] is empty.",eNumber:"$[label] is not a number.",ePhoneNumber:"$[label] is not a valid Phone Number.",ePostalCode:"$[label] is not a Postal Code.", eVisa:"$[label] is not a valid VISA number."});e.validation.mAddValidators({missingvalidator:function(){return i.extend(!0,{},e.validation.mGetRuleResultsTemplate(),{valid:!1,errorCodes:["eMissingValidator"]})},alphanumeric:function(a){a=i.extend(!0,{},e.validation.mGetRuleResultsTemplate(),{valid:/^\w*$/.test(a)});a.valid||a.errorCodes.push("eAlphaNumeric");return a},americanexpress:function(a){a=i.extend(!0,{},e.validation.mGetRuleResultsTemplate(),{valid:/^3(4|7)\d{2}-?\d{6}-?\d{5}$/.test(a)}); a.valid||a.errorCodes.push("eAmericanExpress");return a},dinersclub:function(a){a=i.extend(!0,{},e.validation.mGetRuleResultsTemplate(),{valid:/^3[0,6,8]\d{12}$/.test(a)});a.valid||a.errorCodes.push("eDinersClub");return a},discover:function(a){a=i.extend(!0,{},e.validation.mGetRuleResultsTemplate(),{valid:/^6011-?\d{4}-?\d{4}-?\d{4}$/.test(a)});a.valid||a.errorCodes.push("eDiscover");return a},email:function(a){a=i.extend(!0,{},e.validation.mGetRuleResultsTemplate(),{valid:/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/.test(a)}); a.valid||a.errorCodes.push("eEmail");return a},equal:function(a){var f=i.extend(!0,{},e.validation.mGetRuleResultsTemplate());if(i.isArray(a))for(var b=0,c=a.length;b<c;b++)if(!e.util.mEqual([a[0],a[b]]))f.valid=!1,b=c;f.valid||f.errorCodes.push("eEqual");return f},mastercard:function(a){a=i.extend(!0,{},e.validation.mGetRuleResultsTemplate(),{valid:/^5[1-5]\d{2}-?\d{4}-?\d{4}-?\d{4}$/.test(a)});a.valid||a.errorCodes.push("eMastercard");return a},notempty:function(a){var f=i.extend(!0,{},e.validation.mGetRuleResultsTemplate()); if(typeof a!="undefined"&&a!=null)if(typeof a=="string")f.valid=i.trim(a)!="";else if(i.isArray(a))f.valid=a.length!=0;else if(typeof a=="object")f.valid=!i.isEmptyObject(a);f.valid||f.errorCodes.push("eEmpty");return f},number:function(a){a=i.extend(!0,{},e.validation.mGetRuleResultsTemplate(),{valid:!isNaN(parseFloat(a))&&isFinite(a)});a.valid||a.errorCodes.push("eNumber");return a},phonenumber:function(a){a=i.extend(!0,{},e.validation.mGetRuleResultsTemplate(),{valid:/^\d{10}$/.test(a)});a.valid|| a.errorCodes.push("ePhoneNumber");return a},postalcode:function(a){a=i.extend(!0,{},e.validation.mGetRuleResultsTemplate(),{valid:/^\d{5}([\-]?\d{4})?$/.test(a)});a.valid||a.errorCodes.push("ePostalCode");return a},visa:function(a){a=i.extend(!0,{},e.validation.mGetRuleResultsTemplate(),{valid:/^4\d{3}-?\d{4}-?\d{4}-?\d{4}$/.test(a)});a.valid||a.errorCodes.push("eVisa");return a}});var l=window.simplr={config:{mToggleConsole:function(a){i("#_simplr_core_console").remove();e.config.console=!1;if(a)try{if(typeof window.console!= "undefined"&&typeof window.console.group!="undefined")i(function(){i("body").append('<p id="_simplr_core_console" style="margin: 0; text-align: center; position: fixed; top: 0; width: 100%; left: 0; border-bottom: 1px solid #000; color: #fff; font-weight: bold; background-color: #f00; padding: 5px; font-size: 11px; opacity: .75;">[console]: Console Messaging Active</p>');i("#_simplr_core_console").mouseover(function(){i(this).slideUp()}).mouseout(function(){i(this).delay(3E3).slideDown()})}),e.config.console= !0}catch(f){}return e.config.console}}};(function(a){var f={userAgent:""};a.extend(l,{browser:{mAddressBarHeight:function(){var a=b.mDevice();return a=="iPhone"||a=="iPod"||a=="iPad"?60:0},mDevice:function(){if(f.userAgent.match(/iPhone/i))return"iPhone";else if(f.userAgent.match(/iPod/i))return"iPod";else if(f.userAgent.match(/iPad/i))return"iPad";else if(f.userAgent.match(/Android/i))return"Android";return"other"},mLocalStorageCapable:function(){return e.util.mHasLocalStorage()},mSetUserAgent:function(a){f.userAgent= a},mTouchCapable:function(){var a=b.mDevice();return a=="iPhone"||a=="iPod"||a=="iPad"||a=="Android"}}});var b=l.browser;b.mSetUserAgent(navigator.userAgent)})(jQuery);(function(a){a.extend(l,{cache:{mExpire:function(a){e.util.mHasLocalStorage()&&(localStorage.removeItem(a),localStorage.removeItem(a+"_data"));return null},mGet:function(b){b=a.extend({key:"",identifier:""},b);if(e.util.mHasLocalStorage()&&b.key!=""){var c=localStorage.getItem(b.key);if(c!=null&&(c=c.split("|"),c.length==2&&c[0]==b.identifier))if((new Date).getTime()<= parseInt(c[1],10))return localStorage.getItem(b.key+"_data");else f.mExpire(b.key)}return null},mSet:function(b){b=a.extend({key:"",identifier:"",data:"",freshness:6E5},b);e.util.mHasLocalStorage()&&b.key!=""&&(localStorage.setItem(b.key,b.identifier+"|"+((new Date).getTime()+b.freshness)),localStorage.setItem(b.key+"_data",b.data));return b.data}}});var f=l.cache})(jQuery);(function(a){a.extend(l,{cookie:{mGet:function(b){b=a.extend({name:""},b);if(document.cookie.length>0&&!e.util.mEmpty(b.name)&& (b=document.cookie.match("(^|;) ?"+b.name+"=([^;]*)(;|$)")))return decodeURIComponent(b[2]);return null},mSet:function(b){b=a.extend({name:"",value:"",expireDays:null,path:"/",domain:null,secure:!1},b);if(!e.util.mEmpty(b.name)){var c=b.name+"="+encodeURIComponent(b.value);if(!e.util.mEmpty(b.expireDays)){var d=new Date;d.setTime(d.getTime()+b.expireDays*864E5);c+="; expires="+d.toUTCString()}c+=!e.util.mEmpty(b.path)?"; path="+b.path:"";c+=!e.util.mEmpty(b.domain)?"; domain="+b.domain:"";c+=b.secure? "; secure":"";document.cookie=c;return!0}return!1},mExpire:function(b){return f.mSet(a.extend({name:"",expireDays:-1},b))}}});var f=l.cookie})(jQuery);(function(a,f,b){function c(a){a=a||location.href;return"#"+a.replace(/^[^#]*#?(.*)$/,"$1")}var d="hashchange",g=document,h,e=a.event.special,k=g.documentMode,n="on"+d in f&&(k===b||k>7);a.fn[d]=function(a){return a?this.bind(d,a):this.trigger(d)};a.fn[d].delay=50;e[d]=a.extend(e[d],{setup:function(){if(n)return!1;a(h.start)},teardown:function(){if(n)return!1; a(h.stop)}});h=function(){function h(){var b=c(),g=o(k);if(b!==k)l(k=b,g),a(f).trigger(d);else if(g!==k)location.href=location.href.replace(/#.*/,"")+g;j=setTimeout(h,a.fn[d].delay)}var e={},j,k=c(),i=function(a){return a},l=i,o=i;e.start=function(){j||h()};e.stop=function(){j&&clearTimeout(j);j=b};a.browser.msie&&!n&&function(){var b,f;e.start=function(){if(!b)f=(f=a.fn[d].src)&&f+c(),b=a('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){f||l(c());h()}).attr("src",f||"javascript:0").insertAfter("body")[0].contentWindow, g.onpropertychange=function(){try{if(event.propertyName==="title")b.document.title=g.title}catch(a){}}};e.stop=i;o=function(){return c(b.location.href)};l=function(c,f){var h=b.document,e=a.fn[d].domain;if(c!==f)h.title=g.title,h.open(),e&&h.write('<script>document.domain="'+e+'"<\/script>'),h.close(),b.location.hash=c}}();return e}()})(jQuery,this);(function(a){function f(a){return a.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}var b={crud:{view:!0,"new":!0,update:!0,"delete":!0}, commands:{},bases:{}};a.extend(l,{controller:{mAddBases:function(d){for(var d=a.isArray(d)?d:[d],g=0,c=d.length;g<c;g++)b.bases[d[g]]=1},mAddCommands:function(d){for(var g in d){var c=a.extend({route:[],callback:function(){}},d[g]),f=c.route.join("_");if(f!="")b.commands[f]=c.callback}},mExecute:function(a){var c=a.route.join("_");try{b.commands[c](a)}catch(f){}},mGetCommands:function(){return b.commands},mGetBases:function(){return b.bases},mRoute:function(d){d={route:[],url:d,base:"",resources:{}, action:"",parameters:{}};if(d.url.charAt(0)=="#")d.url=d.url.substring(1);if(d.url.charAt(0)=="!")d.url=d.url.substring(1);var c=d.url.split("?"),h=c[0],e;for(e in b.bases)if((c[0]=c[0].replace(e,""))!=h){d.base=e;d.route.push(e);break}c[0]=c[0].split("/");d.action=c[0][c[0].length-1];d.action=b.crud[d.action]?d.action:"view";e=!0;for(var h="",k=0,n=c[0].length-1;k<n;k++)c[0][k]!=""&&(e?(h=c[0][k],d.route.push(h),d.resources[h]=""):d.resources[h]=c[0][k],e=!e);if(c[1]){c=c[1].split("&");e=0;for(h= c.length;e<h;e++)k=c[e].split("="),d.parameters[k[0]]=a.trim(f(decodeURIComponent(k[1])))}d.route.push(d.action);return d},mRouteAndExecute:function(a){c.mExecute(c.mRoute(decodeURI(a)))}}});var c=l.controller;a(function(){a(window).hashchange(function(){if(window.location.hash!=""){var a="#"+(window.location.href.split("#")[1]||"");c.mRouteAndExecute(a)}})})})(jQuery);var p;p||(p={});(function(){function a(a){return a<10?"0"+a:a}function f(a){d.lastIndex=0;return d.test(a)?'"'+a.replace(d,function(a){var b= e[a];return typeof b==="string"?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function b(a,d){var c,e,j,i,l=g,o,m=d[a];m&&typeof m==="object"&&typeof m.toJSON==="function"&&(m=m.toJSON(a));typeof k==="function"&&(m=k.call(d,a,m));switch(typeof m){case "string":return f(m);case "number":return isFinite(m)?String(m):"null";case "boolean":case "null":return String(m);case "object":if(!m)return"null";g+=h;o=[];if(Object.prototype.toString.apply(m)==="[object Array]"){i=m.length; for(c=0;c<i;c+=1)o[c]=b(c,m)||"null";j=o.length===0?"[]":g?"[\n"+g+o.join(",\n"+g)+"\n"+l+"]":"["+o.join(",")+"]";g=l;return j}if(k&&typeof k==="object"){i=k.length;for(c=0;c<i;c+=1)typeof k[c]==="string"&&(e=k[c],(j=b(e,m))&&o.push(f(e)+(g?": ":":")+j))}else for(e in m)Object.prototype.hasOwnProperty.call(m,e)&&(j=b(e,m))&&o.push(f(e)+(g?": ":":")+j);j=o.length===0?"{}":g?"{\n"+g+o.join(",\n"+g)+"\n"+l+"}":"{"+o.join(",")+"}";g=l;return j}}if(typeof Date.prototype.toJSON!=="function")Date.prototype.toJSON= function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()};var c=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,d=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g, g,h,e={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},k;if(typeof p.stringify!=="function")p.stringify=function(a,d,c){var f;h=g="";if(typeof c==="number")for(f=0;f<c;f+=1)h+=" ";else typeof c==="string"&&(h=c);if((k=d)&&typeof d!=="function"&&(typeof d!=="object"||typeof d.length!=="number"))throw Error("JSON.stringify");return b("",{"":a})};if(typeof p.parse!=="function")p.parse=function(a,b){function d(a,c){var g,f,e=a[c];if(e&&typeof e==="object")for(g in e)Object.prototype.hasOwnProperty.call(e, g)&&(f=d(e,g),f!==void 0?e[g]=f:delete e[g]);return b.call(a,c,e)}var g,a=String(a);c.lastIndex=0;c.test(a)&&(a=a.replace(c,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return g=eval("("+a+")"),typeof b==="function"?d({"":g},""):g;throw new SyntaxError("JSON.parse");}})();(function(a){a.extend(l, {conversion:{mObjectToJSONString:function(a,b,c){return p.stringify(a,b,c)},mJSONStringToObject:function(a,b){return p.parse(a,b)}}})})(jQuery);(function(a){var f={classes:{formEntry:"formEntry",formError:"formError",fieldError:"errorField",textError:"errorText",textInformation:"informationText"},defaultRules:["notempty"],defaultLabel:"_LABEL_",rules:{},labels:{}};a.extend(!0,l,{form:{mAddValidators:function(a){e.validation.mAddValidators(a)},mGetValidators:function(){return e.validation.mGetValidators()}, mAddCodes:function(a){e.validation.mAddCodes(a)},mGetCodes:function(){return e.validation.mGetCodes()},mAddLabelAssociation:function(b){a.extend(f.labels,b)},mAddValidationAssociation:function(b){a.extend(f.rules,b)},mGetValues:function(b){var c={};a("input[type='checkbox']",b).each(function(){c[a(this).attr("name")]=a(this).is(":checked")?a(this).val()!="on"?a(this).val():!0:!1});a("input[type='text'], input[type='password'], input[type='hidden'], input[type='radio']:checked, select, textarea",b).each(function(){c[a(this).attr("name")]= a(this).val()});return c},mValidateValuesAndRender:function(b,c){var d={},g;for(g in c){for(var h={value:c[g],label:f.labels[g]?f.labels[g]:f.defaultLabel,rules:[]},j=0,k=f.defaultRules.length;j<k;j++)h.rules.push(f.defaultRules[j]);try{f.rules[g](h.rules)}catch(i){}d[g]=h}d=e.validation.mValidate(d);g=f.classes;a("."+g.formError+",."+g.fieldError,b).filter("._simplr").removeClass(g.formError).removeClass(g.fieldError);a("."+g.textInformation+",."+g.textError,b).filter("._simplr").remove();for(var l in d.codes){j= d.codes[l];h="";for(j=[j.error,j.success];;){j=j[0];for(k=j.length;0<k;){h+='<p class="'+g.textError+' _simplr">'+e.validation.mGetCodeMessage(j[0],d.data[l].label)+"</p>";break}break}a("[name='"+l+"']:first",b).addClass(g.fieldError+" _simplr").closest("."+g.formEntry).addClass(g.formError+" _simplr").append(h)}return d.valid}}})})(jQuery);var s=function(a,e){typeof a=="string"&&(a=document.getElementById(a));if(a.nodeType!=1)return!1;var b=a.childNodes,c="";if(!e)for(var d=0;d<b.length;d++)if(b[d].nodeType== 3){var g=b[d].nodeValue,g=g.replace(/</g,"&lt;"),g=g.replace(/>/g,"&gt;");c+=g}else if(b[d].nodeType==8)c+="<\!--"+b[d].nodeValue+"--\>";else{c+="<"+b[d].nodeName.toLowerCase();for(var g=b[d].attributes,h=0;h<g.length;h++){var j=g[h].nodeName.toLowerCase(),k=g[h].nodeValue;j=="style"&&b[d].style.cssText?c+=' style="'+b[d].style.cssText.toLowerCase()+'"':k&&j!="contenteditable"&&(c+=" "+j+'="'+k+'"')}c+=">"+s(b[d]);c+="</"+b[d].nodeName.toLowerCase()+">"}return c};(function(a){function e(b){for(;a(".layout-component", b).size()>0;)e(a(".layout-component:eq(0)",b));var g={};g[b.attr("id").split("-")[1]]=s(b.get(0));c.mAddComponents(g);b.remove()}var b={components:{},globalTokens:{}};a.extend(l,{layout:{mAddComponents:function(d){for(var c in d)b.components[c]=a.trim(d[c].replace(/\n/g,"").replace(/\s{1,}/g," "))},mAssembleLayout:function(b){var g="";if(b&&b.component&&b.tokens)for(var e=a.isArray(b.tokens)?b.tokens:[b.tokens],f=0,k=e.length;f<k;f++){var i={},l;for(l in e[f]){var p=i,s=l,q;q=e[f][l];q=typeof q== "object"?c.mAssembleLayout(q):q;p[s]=q}g+=c.mReplaceTokens(i,c.mGetComponent(b.component))}return g},mGetComponent:function(c){typeof b.components[c]=="undefined"&&(a("#layout-"+c).size()>0?e(a("#layout-"+c)):b.components[c]=null);return b.components[c]},mGetComponents:function(){return b.components},mAddGlobalTokens:function(c){a.extend(b.globalTokens,c)},mReplaceTokens:function(c,g){if(g!=null){a.extend(c,b.globalTokens);for(var e in c)g=g.replace(RegExp("\\$\\["+e+"\\]","g"),escape(c[e]))}return unescape(g)}}}); var c=l.layout})(jQuery);(function(a){function f(c){var d={services:[],data:{envID:b.env}};a.extend(!0,d,c.options);if(e.util.mEmpty(d.services)){var g=[],f;for(f in b.services)g.push(f);d.services=g}g=a.extend(e.console.mGetMessageTemplate(),{group:"simplr.trigger: "+b.env+" environment",message:[]});f=0;for(var j=d.services.length;f<j;f++){var k=d.services[f];a.isFunction(b.services[k][c.type])&&b.services[k].data.environmentIDs[b.env]&&g.message.push({message:"["+k+"] "+c.type+" triggered.",data:b.services[k][c.type](d.data)})}g.message.length> 0&&e.console.mMessage(g)}var b={env:"_simplr",services:{}};a.extend(l,{trigger:{mAddServices:function(c){for(var d in c)b.services[d]=a.extend({data:{environmentIDs:{}},onLoad:function(){},onPage:function(){},onEvent:function(){},onTransaction:function(){}},c[d]),f({type:"onLoad",options:{services:[d]}})},mGetServices:function(){return b.services},mSetEnvironment:function(a){b.env=a},mOnPage:function(b){f({type:"onPage",options:a.extend({},b)})},mOnEvent:function(b){f({type:"onEvent",options:a.extend({}, b)})},mOnTransaction:function(b){f({type:"onTransaction",options:a.extend({},b)})}}})})(jQuery);(function(a){function f(g){var e=a("#"+g.id);e.size()==0?a("body").append('<div id="'+g.id+'" style="position: absolute;"></div>'):(e.removeClass(b).removeClass(c),a(g.closeSelector).unbind("click.simplr.layer.destroy."+g.id));var e=a("#"+g.id),f=!(g.xPos!=null&&g.yPos!=null);f?(g.keepCentered&&e.addClass(c),d.mCenter(g.id)):e.css("left",g.xPos+"px").css("top",g.yPos+"px");e.html(g.defaultContent);f&&d.mCenter(g.id); a(g.closeSelector).bind("click.simplr.layer.destroy."+g.id,function(a){a.preventDefault();d.mDestroy({id:g.id,closeSelector:g.closeSelector})})}var b="_simplr_centerLayer",c="_simplr_keepCenterLayer";a.extend(!0,l,{ui:{layer:{mCenter:function(d){if(!e.util.mEmpty(d)){var d=a("#"+d),f=d.width(),j=d.height(),k=e.ui.mWindowInfo(),i=0,i=(k.dimensions[0]-f)/2,i=i<0?20:i;i+=k.offsets[0];var l=0,l=(k.dimensions[1]-j)/2,l=l<0?20:l;l+=k.offsets[1];(f>k.dimensions[0]||j>k.dimensions[1])&&d.hasClass(c)&&d.removeClass(c).addClass(b); d.css("top",l+"px").css("left",i+"px")}},mCreate:function(b){var c=a.extend({ajax:null,callback:null,closeSelector:"#_simplr_layerClose",defaultContent:"",id:"_simplr_layer",isOverlay:!1,keepCentered:!1,xPos:null,yPos:null},b);if(c.isOverlay)c.id=c.id=="_simplr_layer"?"_simplr_overlay":c.id,c.closeSelector=c.closeSelector=="#_simplr_layerClose"?"#_simplr_overlayClose":c.closeSelector,c.xPos=0,c.yPos=0;f(c);if(c.ajax!=null){var d=c.ajax.success;c.ajax.success=function(b,e){c.defaultContent=b;f(c); a.isFunction(d)&&d(b,e)};a.ajax(c.ajax)}else a.isFunction(c.callback)&&c.callback();c.isOverlay&&a("#"+c.id).css({position:"fixed",width:"100%",height:"100%"})},mDestroy:function(b){b=a.extend({id:"_simplr_layer",closeSelector:"#_simplr_layerClose"},b);e.util.mEmpty(b.id)||(a("#"+b.id).remove(),a(b.closeSelector).unbind("click.simplr.ui.layer.destroy."+b.id))}}}});var d=l.ui.layer;a(function(){a(window).bind("resize.simplr.ui.layer",function(){a("."+c+",."+b).each(function(e,f){a(f).addClass(c).removeClass(b); d.mCenter(a(f).attr("id"))})}).bind("scroll.simplr.ui.layer",function(){a("."+c).each(function(b,c){d.mCenter(a(c).attr("id"))})})})})(jQuery);i.extend(!0,l,{ui:{newBrowserWindow:function(a){a=i.extend({url:"",width:500,height:500,name:"_simplr_newBrowserWindow"},a);if(!e.util.mEmpty(a.url)){var f="width="+a.width+",height="+a.height,b=a.url,c=a.name;delete a.url;delete a.width;delete a.height;delete a.name;for(var d in a)f+=","+d+"="+a[d];d=window.open(b,c,f);d!=null&&d.focus()}}}});(function(a){function f(b){this.data= a.extend({animateSpeed:200,containerSelector:"#_simplr_widget_trackableScrollingElement_container",elementSelector:"#_simplr_widget_trackableScrollingElement_element",offset:10,refreshSpeed:500,tolerance:10},b);this.data._PRIVATE={evtString:"scroll.simplr.widget.trackableScrollingElement."+e.ui.widget.mGenerateWidgetID(),timeout:null,previousOffset:0};this.destroy();var c=this;a(window).bind(c.data._PRIVATE.evtString,function(){clearTimeout(c.data._PRIVATE.timeout);c.data._PRIVATE.timeout=setTimeout(function(){var b= a(c.data.containerSelector).eq(0),f=b.children(c.data.elementSelector).eq(0);if(b.is(":visible")&&f.is(":visible")){var b=e.ui.mElementInfo({selector:b}),h=e.ui.mElementInfo({selector:f}),j=e.ui.mWindowInfo(),k=j.offsets[1]-c.data._PRIVATE.previousOffset<0;c.data._PRIVATE.previousOffset=j.offsets[1];var i=null,l=[h.offsets[1]-c.data.tolerance,h.offsets[1]+c.data.tolerance],p=[h.offsets[1]+h.dimensions[1]-c.data.tolerance,h.offsets[1]+h.dimensions[1]+c.data.tolerance];j.dimensions[1]>h.dimensions[1]&& (j.offsets[1]<l[0]||j.offsets[1]>l[1])?i=j.offsets[1]-b.offsets[1]+c.data.offset:k&&j.offsets[1]<l[0]?i=j.offsets[1]-b.offsets[1]+c.data.offset:j.offsets[1]+h.dimensions[1]>p[1]&&(i=j.offsets[1]-b.offsets[1]-(h.dimensions[1]-j.dimensions[1])-c.data.offset);i!=null&&(i<0?i=0:i>b.dimensions[1]-h.dimensions[1]&&(i=b.dimensions[1]-h.dimensions[1]),f.stop().animate({marginTop:i},c.data.animateSpeed))}else f.css("margin-top",0)},c.data.refreshSpeed)})}a.extend(!0,l,{ui:{widget:{oTrackableScrollingElement:function(a){return new f(a)}}}}); f.prototype.reset=function(){a(this.data.elementSelector).eq(0).css("margin-top",0)};f.prototype.destroy=function(){this.reset();a(window).unbind(this.data._PRIVATE.evtString)}})(jQuery);i.extend(!0,l,{util:{mEmpty:function(a){return e.util.mEmpty(a)},mEqual:function(a){return e.util.mEqual(a)},mGetUrlParameter:function(a){return e.util.mGetUrlParameter(a)},mHasLocalStorage:function(){return e.util.mHasLocalStorage()},mTruncateString:function(a){a=i.extend({string:"",size:5,postfix:"",smart:!0},a); if(a.string.length>a.size){var e=a.size-a.postfix.length-1,b=e+1;if(a.smart)for(;a.string.charAt(e)!=" "&&e>0;)e--;return a.string.substring(0,e==0?b:e+1)+a.postfix}return a.string}}});(function(a){a.extend(!0,l,{validation:{mAddCodes:function(a){e.validation.mAddCodes(a)},mGetCodes:function(){return e.validation.mGetCodes()},mAddValidators:function(a){e.validation.mAddValidators(a)},mGetValidators:function(){return e.validation.mGetValidators()},mGetRuleResultsTemplate:function(){return e.validation.mGetRuleResultsTemplate()}, mGetCodeMessage:function(a,b){return e.validation.mGetCodeMessage(a,b)},mValidate:function(a){return e.validation.mValidate(a)}}})})(jQuery);(function(a){var e={};a.extend(!0,l,{view:{mAddViews:function(b){for(var c in b){var d=a.extend(!0,{},{html:function(){return""},callback:function(){}},b[c]);e[c]=d}},mGetViews:function(){return e},mRender:function(b){b=a.extend({name:"",data:"",selector:""},b);a(b.selector).html(e[b.name].html(b.data));e[b.name].callback(b.selector,b.data)}}})})(jQuery)})(jQuery);